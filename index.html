<!Doctype html>
<html>
  <head>
    <title> Dungeon Crawler 0.0.1 alpha </title>
    <style>
      html, body {
        overflow: hidden;
        margin: 0;
        background-color: black;
      }
    </style>
  </head>
  <body>
    <canvas id="world"></canvas>

    <script type="module">
      import { Dungeon } from './index.js'

      function browserSize() {
       return {
         width: window.innerWidth
           || document.documentElement.clientWidth
           || document.body.clientWidth,
         height: window.innerHeight
           || document.documentElement.clientHeight
           || document.body.clientHeight
       }
      }

      let world = document.getElementById('world');
      let ctx = world.getContext('2d');
      let dungeon = new Dungeon();

      const resize = (win) => {
        const { width, height } = browserSize();
        ctx.width = width;
        ctx.height = height;

        ctx.canvas.width = ctx.width;
        ctx.canvas.height = ctx.height;

        dungeon.onSizeUpdate(width, height);
      };
      dungeon.setup(ctx);

      window.addEventListener('resize', resize);
      resize();
    </script>
    <script nomodule>
      console.log('kdjsakfdsf');
    </script>
  </body>
</html>
